language: node_js
node_js: 8.10.0
cache:
  apt: true
  directories:
  - node_modules
addons:
  ssh_known_hosts: git.coding.net
script: hexo clean & hexo generate
branches:
  only:
  - source
env:
  global:
  - secure: c0XEuUGTJmisOc6DTzE7XGC+Sg33a54jvLVgzOkMAZUVWy6WgWhwKEwYV4M0Ycxr1CNy7wrwoQXlRHPEpd51hVJRmEBujWqUs4okkq+755T0gAq2lQnm4UsBy8a361jYTnLsk4Qev4kSju44gbMMpFhiu1oPooO5Trlx7dkQFNhW8rHQTo/CLSl/m/84U8B1eOZnrdXICe2yTuteJ4S4DUu9YrKJw1GZRSYRXYzX4fo0BEUgYHy5ysnBygpmyjaRHHSSJX7gKAv1dJYU83itW202dZ/Xbu03T1XlSXIYwkRQWHVWo4FSpCVdwncUiRyeUdeoxrXOfB7J+IeUwevdtMNucBBLvCEPLMqsUtITn7XzcWiO4ycGYBJQ1ny8mKQsZDai0Er9C3C6JNwTp6x5NqYBlLbnEzD1yyiZj5K4U4uZMEe0dooJAeECGlIjuXmyC4z1SoPBWSLEAqNCRO3Z3uyk9jenT5wEQZI8KE6ap/h/aICGEh6egHbVKvI54SEdU8Qkonr0tedXTAiwRQwB3mHbySF8Q9oYzsMDBjsDni8paSuxOivfW6gCn8uV9U//eT4GKCEJkc6vNZ8tjilA7ziBbqcoWBwBE0TK95YFrl0LeZLuqbGMkV7VhATQBI2NjIo3WckSizG8YIdRVdJ3sJZTjIw7CIFakmN+7XI3izU=
before_install:
- openssl aes-256-cbc -K $encrypted_6a5d0d2bb8ce_key -iv $encrypted_6a5d0d2bb8ce_iv
  -in .travis/4gcwgo.enc -out ~/.ssh/4gcwgo -d
- export TZ='Asia/Shanghai'
- git init
- git config user.name "wego0"
- git config user.email "imovomi@sina.com"
deploy:
  provider: script
  script: sh .travis/deploy.sh
  skip_cleanup: true
  on:
    branch: source
